generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model games {
  gameid      String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  gamecode    String   @unique @db.VarChar
  hostid      String   @db.Uuid
  songs       String[] @db.VarChar
  playerids   String[] @db.Uuid
  currentsong String?  @db.VarChar
  songsplayed String[] @db.VarChar
  scores      Json?
  song        song?    @relation(fields: [currentsong], references: [id], onDelete: NoAction, onUpdate: NoAction)
  player      player   @relation(fields: [hostid], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model player {
  id                String  @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name              String? @db.VarChar
  email             String? @db.VarChar
  img               String? @db.VarChar
  othersongsguessed Int?
  usersongsguessed  Int?
  games             games[]
}

model schema_migrations {
  version String @id @db.VarChar(255)
}

model song {
  id     String  @id @db.VarChar
  name   String? @db.VarChar
  artist String? @db.VarChar
  album  String? @db.VarChar
  img    String? @db.VarChar
  uri    String? @db.VarChar
  games  games[]
}
